document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".news-feed-block").forEach(e=>{const t=e.dataset.category||"technology",n=e.dataset.country||"us",o=e.dataset.source||"";let a=`https://newsapi.org/v2/top-headlines?apiKey=e219e3d671894631b990e24f58fd4564&pageSize=${e.dataset.count||5}`;t&&(a+=`&category=${t}`),n&&(a+=`&country=${n}`),o&&(a+=`&sources=${o}`),fetch(a).then(e=>e.json()).then(t=>{const n=t.articles||[];e.innerHTML=n.map(e=>`\n          <div class="news-card">\n            ${e.urlToImage?`<img src="${e.urlToImage}" alt="${e.title}" />`:""}\n            <h4>${e.title}</h4>\n            <p>${e.description||""}</p>\n            <a href="${e.url}" target="_blank" rel="noopener">Read more</a>\n          </div>\n        `).join("")}).catch(t=>{e.innerHTML="<p>Error loading news feed.</p>",console.error(t)})})});